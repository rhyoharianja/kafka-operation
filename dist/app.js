import{defineOperationApp as e}from"@directus/extensions-sdk";var t=e({id:"kafka-operation",name:"Kafka Operation",icon:"rocketchat",description:"Send or receive messages from Apache Kafka",overview:({operation:e,topic:t,host:a,port:i})=>[{label:"Operation",text:e||"Not configured"},{label:"Broker",text:`${a}:${i}`},{label:"Topic",text:t||"Not configured"}],options:[{field:"operation",name:"Operation Type",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Produce",value:"produce"},{text:"Consume",value:"consume"}]}}},{field:"host",name:"Host",type:"string",meta:{width:"half",interface:"input",required:!0},schema:{default_value:"localhost"}},{field:"port",name:"Port",type:"integer",meta:{width:"half",interface:"input",required:!0},schema:{default_value:9092}},{field:"topic",name:"Topic",type:"string",meta:{width:"half",interface:"input",required:!0}},{field:"groupId",name:"Consumer Group ID",type:"string",meta:{width:"half",interface:"input",required:!1,options:{placeholder:"directus-kafka-group"},conditions:[{rule:{operation:{_eq:"consume"}},hidden:!1}]},schema:{default_value:"directus-kafka-group"}},{field:"fromBeginning",name:"Read from Beginning",type:"boolean",meta:{width:"half",interface:"boolean",required:!1,conditions:[{rule:{operation:{_eq:"consume"}},hidden:!1}]},schema:{default_value:!1}},{field:"maxMessages",name:"Max Messages",type:"integer",meta:{width:"half",interface:"input",required:!1,conditions:[{rule:{operation:{_eq:"consume"}},hidden:!1}]}},{field:"key",name:"Message Key",type:"string",meta:{width:"half",interface:"input",required:!1,conditions:[{rule:{operation:{_eq:"produce"}},hidden:!1}]}},{field:"partition",name:"Partition",type:"integer",meta:{width:"half",interface:"input",required:!1,conditions:[{rule:{operation:{_eq:"produce"}},hidden:!1}]},schema:{default_value:0}},{field:"headers",name:"Headers",type:"json",meta:{width:"full",interface:"input-code",options:{language:"json",placeholder:JSON.stringify({key:"value"},null,2)},required:!1,conditions:[{rule:{operation:{_eq:"produce"}},hidden:!1}]}},{field:"message",name:"Message",type:"json",meta:{width:"full",interface:"input-code",options:{language:"json",placeholder:JSON.stringify({message:"Hello Kafka!"},null,2)},required:!1,conditions:[{rule:{operation:{_eq:"produce"}},hidden:!1}]}},{field:"transform",name:"Transform Function",type:"text",meta:{width:"full",interface:"input-code",options:{language:"javascript",placeholder:"// Transform function to modify the payload before sending to Kafka\n\t\t\t\t\t// Available for both produce and consume operations\n\t\t\t\t\t// Example: return { ...data, timestamp: new Date().toISOString() };\n\t\t\t\t\treturn data;"},required:!1}}]});export{t as default};
